<head>
    <title>Practical Javascript - Tim</title>
</head>

<body> 
    <button id='display-todos-button' onclick="displayTodos()">Display Todos</button>
    <button id='toggle-all-button' onclick="toggleAll()">Toggle All</button>
    <button id='add-button' onclick="add()">Add Todo</button>
    <input id='add-input'></input>
    
    <!-- <button id='remove-button' onclick="remove()">Remove Todo</button>
    <button id='edit-button' onclick="edit()">Edit Todo</button> -->

    <script>
        var todos = [
            {todoText: 'Item1', completed: false}, 
            {todoText: 'Item2', completed: true}, 
            {todoText: 'Item3', completed: false}
        ]; 

        function add(newText) { 
            todos.push({todoText: newText, completed: false});
            displayTodos();
        }
        
        function edit(position, newText) { 
            todos[position].todoText = newText; 
            displayTodos(); 
        }

        function remove(position) {
            todos.splice(position, 1); 
            displayTodos(); 
        }

        function toggle(position) { 
            todos[position].completed = !todos[position].completed; 
            displayTodos();
        }

        function displayTodos() {
            for (let i = 0; i < todos.length; i++) {
                console.log(todos[i]);    
            }
        }

        function toggleAll() {
            completed_array = todos.map(todo => todo.completed); 
            if (completed_array.some(x => x === false)) {
                for (let i = 0; i < todos.length; i++) {
                    todos[i].completed = true;
                }
            }
            else {
                for (let i = 0; i < todos.length; i++) {
                    todos[i].completed = false;
                    
                }
            }
            displayTodos(); 
        }

        var displayTodosButton = document.getElementById('display-todos-button'); 
        displayTodosButton.addEventListener('click', displayTodos); 
        var toggleAllButton = document.getElementById('toggle-all-button'); 
        toggleAllButton.addEventListener('click', toggleAll); 

        var addInput = document.getElementById('add-input'); 

    </script>
</body>

